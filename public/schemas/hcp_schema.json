{
  "name": "Human Connectome Project (HCP) Young Adult 3T Protocol",
  "description": "Human Connectome Project (HCP) Young Adult 3T imaging protocol.\n\nThe HCP scanned 1,200 healthy young adults (ages 22-35) at Washington University in St. Louis using a customized Siemens Skyra 3T scanner (\"Connectome Skyra\") with enhanced gradient coils (100 mT/m maximum gradient strength for diffusion, ~42 mT/m for imaging).\n\nThe protocol includes high-resolution structural imaging (0.7mm), fast functional MRI with multiband acceleration (TR=720ms, MB=8), and high angular resolution diffusion imaging (1.25mm, multi-shell).\n\nProtocol parameters extracted from: HCP S1200 Release Reference Manual - Appendix I (March 2017)\n\nReferences:\n- Van Essen et al. (2012) \"The Human Connectome Project: A data acquisition perspective.\" NeuroImage 62:2222-2231\n- Ugurbil et al. (2013) \"Pushing spatial and temporal resolution for functional and diffusion MRI in the Human Connectome Project.\" NeuroImage 80:80-104\n- Barch et al. (2013) \"Function in the human connectome: Task-fMRI and individual differences in behavior.\" NeuroImage 80:169-189\n- Glasser et al. (2016) \"The Human Connectome Project's neuroimaging approach.\" Nature Neuroscience 19:1175-1187\n\nProtocol source: https://www.humanconnectome.org/hcp-protocols-ya-3t-imaging",
  "version": "1.0",
  "authors": [
    "Human Connectome Project Consortium",
    "WU-Minn HCP Consortium"
  ],
  "acquisitions": {
    "T1-weighted 3D MPRAGE": {
      "description": "3D T1-weighted MPRAGE structural imaging",
      "tags": ["analysis:segmentation", "analysis:volumetry", "analysis:cortical-thickness", "brain", "structural", "T1-weighted"],
      "detailed_description": "## 3D T1-Weighted Structural Imaging (MPRAGE)\n\nHigh-resolution T1-weighted magnetization-prepared rapid acquisition gradient echo for cortical surface reconstruction and subcortical segmentation. Two T1w scans are acquired and averaged for improved SNR.\n\n### Documented Parameters (from HCP Appendix I)\n| Parameter | Value |\n|-----------|-------|\n| Sequence | tfl (MPRAGE) |\n| Acquisition Time | 7:40 |\n| Voxel Size | 0.7 \u00d7 0.7 \u00d7 0.7 mm |\n| TR | 2400 ms |\n| TE | 2.14 ms |\n| TI | 1000 ms |\n| Flip Angle | 8\u00b0 |\n| FOV Read | 224 mm |\n| FOV Phase | 100% |\n| Base Resolution | 320 |\n| Phase Resolution | 100% |\n| Slices per Slab | 256 |\n| Orientation | Sagittal |\n| Phase Encoding | A >> P |\n| PAT Mode | GRAPPA |\n| Acceleration Factor | 2 |\n| Reference Lines | 32 |\n| Fat Suppression | Water excitation fast |\n| Magnetization Prep | Non-selective IR |\n\n### Source\nHCP S1200 Release Reference Manual - Appendix I, Page 24-25",
      "fields": [
        {
          "field": "Manufacturer",
          "tag": "0008,0070",
          "value": "SIEMENS"
        },
        {
          "field": "MRAcquisitionType",
          "tag": "0018,0023",
          "value": "3D"
        },
        {
          "field": "ScanningSequence",
          "tag": "0018,0020",
          "value": [
            "GR",
            "IR"
          ]
        },
        {
          "field": "SequenceVariant",
          "tag": "0018,0021",
          "value": [
            "SK",
            "SP",
            "MP"
          ]
        },
        {
          "field": "MagneticFieldStrength",
          "tag": "0018,0087",
          "value": 3,
          "tolerance": 0.1
        },
        {
          "field": "RepetitionTime",
          "tag": "0018,0080",
          "value": 2400,
          "tolerance": 10
        },
        {
          "field": "EchoTime",
          "tag": "0018,0081",
          "value": 2.14,
          "tolerance": 0.1
        },
        {
          "field": "InversionTime",
          "tag": "0018,0082",
          "value": 1000,
          "tolerance": 10
        },
        {
          "field": "FlipAngle",
          "tag": "0018,1314",
          "value": 8,
          "tolerance": 1
        },
        {
          "field": "SliceThickness",
          "tag": "0018,0050",
          "value": 0.7,
          "tolerance": 0.05
        },
        {
          "field": "PixelSpacing",
          "tag": "0028,0030",
          "value": [
            0.7,
            0.7
          ],
          "tolerance": 0.05
        },
        {
          "field": "Rows",
          "tag": "0028,0010",
          "value": 320,
          "tolerance": 10
        },
        {
          "field": "Columns",
          "tag": "0028,0011",
          "value": 320,
          "tolerance": 10
        },
        {
          "field": "InPlanePhaseEncodingDirection",
          "tag": "0018,1312",
          "value": "COL"
        },
        {
          "field": "NumberOfAverages",
          "tag": "0018,0083",
          "value": 1
        },
        {
          "field": "PercentPhaseFieldOfView",
          "tag": "0018,0094",
          "value": 100
        },
        {
          "field": "ParallelReductionFactorInPlane",
          "tag": "0018,9069",
          "value": 2,
          "tolerance": 0.1
        }
      ],
      "series": [],
      "rules": []
    },
    "T2-weighted 3D SPACE": {
      "description": "3D T2-weighted SPACE structural imaging",
      "tags": ["analysis:segmentation", "analysis:lesion-detection", "brain", "structural", "T2-weighted"],
      "detailed_description": "## 3D T2-Weighted Structural Imaging (SPACE)\n\nHigh-resolution T2-weighted 3D fast spin echo with variable flip angle for white matter lesion detection and CSF quantification. Two T2w scans are acquired and averaged for improved SNR.\n\n### Documented Parameters (from HCP Appendix I)\n| Parameter | Value |\n|-----------|-------|\n| Sequence | spc (SPACE) |\n| Acquisition Time | 8:24 |\n| Voxel Size | 0.7 \u00d7 0.7 \u00d7 0.7 mm |\n| TR | 3200 ms |\n| TE | 565 ms |\n| FOV Read | 224 mm |\n| FOV Phase | 100% |\n| Base Resolution | 320 |\n| Phase Resolution | 100% |\n| Slices per Slab | 256 |\n| Orientation | Sagittal |\n| Phase Encoding | A >> P |\n| PAT Mode | GRAPPA |\n| Acceleration Factor | 2 |\n| Reference Lines | 32 |\n\n### Source\nHCP S1200 Release Reference Manual - Appendix I, Page 26-28",
      "fields": [
        {
          "field": "Manufacturer",
          "tag": "0008,0070",
          "value": "SIEMENS"
        },
        {
          "field": "MRAcquisitionType",
          "tag": "0018,0023",
          "value": "3D"
        },
        {
          "field": "ScanningSequence",
          "tag": "0018,0020",
          "value": "SE"
        },
        {
          "field": "SequenceVariant",
          "tag": "0018,0021",
          "value": [
            "SK",
            "SP"
          ]
        },
        {
          "field": "MagneticFieldStrength",
          "tag": "0018,0087",
          "value": 3,
          "tolerance": 0.1
        },
        {
          "field": "RepetitionTime",
          "tag": "0018,0080",
          "value": 3200,
          "tolerance": 50
        },
        {
          "field": "EchoTime",
          "tag": "0018,0081",
          "value": 565,
          "tolerance": 10
        },
        {
          "field": "SliceThickness",
          "tag": "0018,0050",
          "value": 0.7,
          "tolerance": 0.05
        },
        {
          "field": "PixelSpacing",
          "tag": "0028,0030",
          "value": [
            0.7,
            0.7
          ],
          "tolerance": 0.05
        },
        {
          "field": "Rows",
          "tag": "0028,0010",
          "value": 320,
          "tolerance": 10
        },
        {
          "field": "Columns",
          "tag": "0028,0011",
          "value": 320,
          "tolerance": 10
        },
        {
          "field": "InPlanePhaseEncodingDirection",
          "tag": "0018,1312",
          "value": "COL"
        },
        {
          "field": "PercentPhaseFieldOfView",
          "tag": "0018,0094",
          "value": 100
        },
        {
          "field": "ParallelReductionFactorInPlane",
          "tag": "0018,9069",
          "value": 2,
          "tolerance": 0.1
        }
      ],
      "series": [],
      "rules": []
    },
    "Spin-Echo Field Map": {
      "description": "Spin-echo EPI field map for fMRI distortion correction",
      "tags": ["brain", "fieldmap"],
      "detailed_description": "## Spin-Echo Field Map for fMRI\n\nSpin-echo EPI acquisitions with reversed phase encoding polarity (RL and LR) for estimating and correcting susceptibility-induced distortions in the gradient-echo fMRI data using FSL's TOPUP.\n\n### Documented Parameters (from HCP Appendix I)\n| Parameter | Value |\n|-----------|-------|\n| Sequence | cmrr_mbep2d_se (epse) |\n| Acquisition Time | 0:28 |\n| Voxel Size | 2.0 \u00d7 2.0 \u00d7 2.0 mm |\n| TR | 7060 ms |\n| TE | 58.0 ms |\n| Slices | 72 |\n| FOV Read | 208 mm |\n| FOV Phase | 86.5% |\n| Orientation | Transverse (T > C-20.0) |\n| Phase Encoding | R >> L and L >> R (paired) |\n| Multiband Factor | 1 (single-band reference) |\n| Refocus Flip Angle | 180\u00b0 |\n\n### Source\nHCP S1200 Release Reference Manual - Appendix I, Page 39-40",
      "fields": [
        {
          "field": "Manufacturer",
          "tag": "0008,0070",
          "value": "SIEMENS"
        },
        {
          "field": "MRAcquisitionType",
          "tag": "0018,0023",
          "value": "2D"
        },
        {
          "field": "ScanningSequence",
          "tag": "0018,0020",
          "contains": "SE"
        },
        {
          "field": "MagneticFieldStrength",
          "tag": "0018,0087",
          "value": 3,
          "tolerance": 0.1
        },
        {
          "field": "RepetitionTime",
          "tag": "0018,0080",
          "value": 7060,
          "tolerance": 100
        },
        {
          "field": "EchoTime",
          "tag": "0018,0081",
          "value": 58,
          "tolerance": 2
        },
        {
          "field": "SliceThickness",
          "tag": "0018,0050",
          "value": 2.0,
          "tolerance": 0.1
        },
        {
          "field": "PixelSpacing",
          "tag": "0028,0030",
          "value": [
            2.0,
            2.0
          ],
          "tolerance": 0.1
        },
        {
          "field": "PercentPhaseFieldOfView",
          "tag": "0018,0094",
          "value": 86.5,
          "tolerance": 1
        },
        {
          "field": "MultibandFactor",
          "tag": "derived",
          "value": 1
        }
      ],
      "series": [],
      "rules": []
    },
    "Resting-State fMRI": {
      "description": "Resting-state fMRI with multiband acceleration",
      "tags": ["analysis:fmri", "brain", "fMRI", "resting-state", "multiband"],
      "detailed_description": "## Resting-State Functional MRI\n\nHigh temporal resolution resting-state fMRI using gradient-echo EPI with multiband (simultaneous multi-slice) acceleration. Participants fixate on a bright crosshair on dark background with eyes open. Four runs of ~15 minutes each are acquired.\n\n### Documented Parameters (from HCP Appendix I)\n| Parameter | Value |\n|-----------|-------|\n| Sequence | cmrr_mbep2d_bold (epfid) |\n| Acquisition Time | 14:33 per run |\n| Voxel Size | 2.0 \u00d7 2.0 \u00d7 2.0 mm |\n| TR | 720 ms |\n| TE | 33.1 ms |\n| Flip Angle | 52\u00b0 |\n| Slices | 72 |\n| FOV Read | 208 mm |\n| FOV Phase | 86.5% |\n| Base Resolution | 104 |\n| Phase Resolution | 100% |\n| Orientation | Transverse (T > C-20.0) |\n| Phase Encoding | R >> L or L >> R (alternating) |\n| Multiband Factor | 8 |\n| Bandwidth | 2290 Hz/Px |\n| Echo Spacing | 0.58 ms |\n| EPI Factor | 90 |\n| Measurements | 1200 frames |\n| Fat Suppression | Fat saturation |\n\n### Phase Encoding\nWithin each session, acquisitions alternate between right-to-left (RL) and left-to-right (LR) phase encoding directions for distortion correction.\n\n### Source\nHCP S1200 Release Reference Manual - Appendix I, Page 41-44",
      "fields": [
        {
          "field": "Manufacturer",
          "tag": "0008,0070",
          "value": "SIEMENS"
        },
        {
          "field": "MRAcquisitionType",
          "tag": "0018,0023",
          "value": "2D"
        },
        {
          "field": "ScanningSequence",
          "tag": "0018,0020",
          "value": "EP"
        },
        {
          "field": "SequenceVariant",
          "tag": "0018,0021",
          "value": [
            "SK",
            "SS"
          ]
        },
        {
          "field": "MagneticFieldStrength",
          "tag": "0018,0087",
          "value": 3,
          "tolerance": 0.1
        },
        {
          "field": "RepetitionTime",
          "tag": "0018,0080",
          "value": 720,
          "tolerance": 10
        },
        {
          "field": "EchoTime",
          "tag": "0018,0081",
          "value": 33.1,
          "tolerance": 1
        },
        {
          "field": "FlipAngle",
          "tag": "0018,1314",
          "value": 52,
          "tolerance": 2
        },
        {
          "field": "SliceThickness",
          "tag": "0018,0050",
          "value": 2.0,
          "tolerance": 0.1
        },
        {
          "field": "PixelSpacing",
          "tag": "0028,0030",
          "value": [
            2.0,
            2.0
          ],
          "tolerance": 0.1
        },
        {
          "field": "Rows",
          "tag": "0028,0010",
          "value": 104,
          "tolerance": 5
        },
        {
          "field": "Columns",
          "tag": "0028,0011",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PixelBandwidth",
          "tag": "0018,0095",
          "value": 2290,
          "tolerance": 50
        },
        {
          "field": "EchoTrainLength",
          "tag": "0018,0091",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PercentPhaseFieldOfView",
          "tag": "0018,0094",
          "value": 86.5,
          "tolerance": 1
        },
        {
          "field": "NumberOfAverages",
          "tag": "0018,0083",
          "value": 1
        },
        {
          "field": "MultibandFactor",
          "tag": "derived",
          "value": 8
        },
        {
          "field": "NumberOfTemporalPositions",
          "tag": "0020,0105",
          "value": 1200
        }
      ],
      "series": [],
      "rules": []
    },
    "Task fMRI - Working Memory (N-back)": {
      "description": "Task fMRI - Working Memory (N-back)",
      "tags": ["analysis:fmri", "brain", "fMRI", "task-based", "multiband"],
      "detailed_description": "## Task fMRI - Working Memory (N-back)\n\nN-back working memory task with faces, places, tools, and body parts. Includes 0-back (target matching) and 2-back (working memory) conditions.\n\n### Imaging Parameters\nSame as resting-state fMRI (from HCP Appendix I):\n| Parameter | Value |\n|-----------|-------|\n| Sequence | cmrr_mbep2d_bold |\n| Voxel Size | 2.0 \u00d7 2.0 \u00d7 2.0 mm |\n| TR | 720 ms |\n| TE | 33.1 ms |\n| Flip Angle | 52\u00b0 |\n| Slices | 72 |\n| Multiband Factor | 8 |\n| Bandwidth | 2290 Hz/Px |\n| Echo Spacing | 0.58 ms |\n| Measurements | 405 frames |\n\n### Task Design\nBlock design paradigm (preferred over event-related for efficiency).\n\n### Source\nHCP S1200 Release Reference Manual - Appendix I, Page 37-38",
      "fields": [
        {
          "field": "Manufacturer",
          "tag": "0008,0070",
          "value": "SIEMENS"
        },
        {
          "field": "MRAcquisitionType",
          "tag": "0018,0023",
          "value": "2D"
        },
        {
          "field": "ScanningSequence",
          "tag": "0018,0020",
          "value": "EP"
        },
        {
          "field": "SequenceVariant",
          "tag": "0018,0021",
          "value": [
            "SK",
            "SS"
          ]
        },
        {
          "field": "MagneticFieldStrength",
          "tag": "0018,0087",
          "value": 3,
          "tolerance": 0.1
        },
        {
          "field": "RepetitionTime",
          "tag": "0018,0080",
          "value": 720,
          "tolerance": 10
        },
        {
          "field": "EchoTime",
          "tag": "0018,0081",
          "value": 33.1,
          "tolerance": 1
        },
        {
          "field": "FlipAngle",
          "tag": "0018,1314",
          "value": 52,
          "tolerance": 2
        },
        {
          "field": "SliceThickness",
          "tag": "0018,0050",
          "value": 2.0,
          "tolerance": 0.1
        },
        {
          "field": "PixelSpacing",
          "tag": "0028,0030",
          "value": [
            2.0,
            2.0
          ],
          "tolerance": 0.1
        },
        {
          "field": "Rows",
          "tag": "0028,0010",
          "value": 104,
          "tolerance": 5
        },
        {
          "field": "Columns",
          "tag": "0028,0011",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PixelBandwidth",
          "tag": "0018,0095",
          "value": 2290,
          "tolerance": 50
        },
        {
          "field": "EchoTrainLength",
          "tag": "0018,0091",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PercentPhaseFieldOfView",
          "tag": "0018,0094",
          "value": 86.5,
          "tolerance": 1
        },
        {
          "field": "NumberOfAverages",
          "tag": "0018,0083",
          "value": 1
        },
        {
          "field": "MultibandFactor",
          "tag": "derived",
          "value": 8
        },
        {
          "field": "NumberOfTemporalPositions",
          "tag": "0020,0105",
          "value": 405
        }
      ],
      "series": [],
      "rules": []
    },
    "Task fMRI - Gambling (Reward)": {
      "description": "Task fMRI - Gambling (Reward Processing)",
      "tags": ["analysis:fmri", "brain", "fMRI", "task-based", "multiband"],
      "detailed_description": "## Task fMRI - Gambling (Reward Processing)\n\nCard guessing task measuring reward and loss processing. Participants guess if a hidden card is higher or lower than 5.\n\n### Imaging Parameters\nSame as resting-state fMRI (from HCP Appendix I):\n| Parameter | Value |\n|-----------|-------|\n| Sequence | cmrr_mbep2d_bold |\n| Voxel Size | 2.0 \u00d7 2.0 \u00d7 2.0 mm |\n| TR | 720 ms |\n| TE | 33.1 ms |\n| Flip Angle | 52\u00b0 |\n| Slices | 72 |\n| Multiband Factor | 8 |\n| Bandwidth | 2290 Hz/Px |\n| Echo Spacing | 0.58 ms |\n| Measurements | 253 frames |\n\n### Task Design\nBlock design paradigm (preferred over event-related for efficiency).\n\n### Source\nHCP S1200 Release Reference Manual - Appendix I, Page 37-38",
      "fields": [
        {
          "field": "Manufacturer",
          "tag": "0008,0070",
          "value": "SIEMENS"
        },
        {
          "field": "MRAcquisitionType",
          "tag": "0018,0023",
          "value": "2D"
        },
        {
          "field": "ScanningSequence",
          "tag": "0018,0020",
          "value": "EP"
        },
        {
          "field": "SequenceVariant",
          "tag": "0018,0021",
          "value": [
            "SK",
            "SS"
          ]
        },
        {
          "field": "MagneticFieldStrength",
          "tag": "0018,0087",
          "value": 3,
          "tolerance": 0.1
        },
        {
          "field": "RepetitionTime",
          "tag": "0018,0080",
          "value": 720,
          "tolerance": 10
        },
        {
          "field": "EchoTime",
          "tag": "0018,0081",
          "value": 33.1,
          "tolerance": 1
        },
        {
          "field": "FlipAngle",
          "tag": "0018,1314",
          "value": 52,
          "tolerance": 2
        },
        {
          "field": "SliceThickness",
          "tag": "0018,0050",
          "value": 2.0,
          "tolerance": 0.1
        },
        {
          "field": "PixelSpacing",
          "tag": "0028,0030",
          "value": [
            2.0,
            2.0
          ],
          "tolerance": 0.1
        },
        {
          "field": "Rows",
          "tag": "0028,0010",
          "value": 104,
          "tolerance": 5
        },
        {
          "field": "Columns",
          "tag": "0028,0011",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PixelBandwidth",
          "tag": "0018,0095",
          "value": 2290,
          "tolerance": 50
        },
        {
          "field": "EchoTrainLength",
          "tag": "0018,0091",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PercentPhaseFieldOfView",
          "tag": "0018,0094",
          "value": 86.5,
          "tolerance": 1
        },
        {
          "field": "NumberOfAverages",
          "tag": "0018,0083",
          "value": 1
        },
        {
          "field": "MultibandFactor",
          "tag": "derived",
          "value": 8
        },
        {
          "field": "NumberOfTemporalPositions",
          "tag": "0020,0105",
          "value": 253
        }
      ],
      "series": [],
      "rules": []
    },
    "Task fMRI - Motor": {
      "description": "Task fMRI - Motor",
      "tags": ["analysis:fmri", "brain", "fMRI", "task-based", "multiband"],
      "detailed_description": "## Task fMRI - Motor\n\nVisual cues prompt finger tapping (left/right), toe squeezing (left/right), or tongue movement. Each movement block lasts 12 seconds (10 movements) preceded by 3-second cue.\n\n### Imaging Parameters\nSame as resting-state fMRI (from HCP Appendix I):\n| Parameter | Value |\n|-----------|-------|\n| Sequence | cmrr_mbep2d_bold |\n| Voxel Size | 2.0 \u00d7 2.0 \u00d7 2.0 mm |\n| TR | 720 ms |\n| TE | 33.1 ms |\n| Flip Angle | 52\u00b0 |\n| Slices | 72 |\n| Multiband Factor | 8 |\n| Bandwidth | 2290 Hz/Px |\n| Echo Spacing | 0.58 ms |\n| Measurements | 284 frames |\n\n### Task Design\nBlock design paradigm (preferred over event-related for efficiency).\n\n### Source\nHCP S1200 Release Reference Manual - Appendix I, Page 37-38",
      "fields": [
        {
          "field": "Manufacturer",
          "tag": "0008,0070",
          "value": "SIEMENS"
        },
        {
          "field": "MRAcquisitionType",
          "tag": "0018,0023",
          "value": "2D"
        },
        {
          "field": "ScanningSequence",
          "tag": "0018,0020",
          "value": "EP"
        },
        {
          "field": "SequenceVariant",
          "tag": "0018,0021",
          "value": [
            "SK",
            "SS"
          ]
        },
        {
          "field": "MagneticFieldStrength",
          "tag": "0018,0087",
          "value": 3,
          "tolerance": 0.1
        },
        {
          "field": "RepetitionTime",
          "tag": "0018,0080",
          "value": 720,
          "tolerance": 10
        },
        {
          "field": "EchoTime",
          "tag": "0018,0081",
          "value": 33.1,
          "tolerance": 1
        },
        {
          "field": "FlipAngle",
          "tag": "0018,1314",
          "value": 52,
          "tolerance": 2
        },
        {
          "field": "SliceThickness",
          "tag": "0018,0050",
          "value": 2.0,
          "tolerance": 0.1
        },
        {
          "field": "PixelSpacing",
          "tag": "0028,0030",
          "value": [
            2.0,
            2.0
          ],
          "tolerance": 0.1
        },
        {
          "field": "Rows",
          "tag": "0028,0010",
          "value": 104,
          "tolerance": 5
        },
        {
          "field": "Columns",
          "tag": "0028,0011",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PixelBandwidth",
          "tag": "0018,0095",
          "value": 2290,
          "tolerance": 50
        },
        {
          "field": "EchoTrainLength",
          "tag": "0018,0091",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PercentPhaseFieldOfView",
          "tag": "0018,0094",
          "value": 86.5,
          "tolerance": 1
        },
        {
          "field": "NumberOfAverages",
          "tag": "0018,0083",
          "value": 1
        },
        {
          "field": "MultibandFactor",
          "tag": "derived",
          "value": 8
        },
        {
          "field": "NumberOfTemporalPositions",
          "tag": "0020,0105",
          "value": 284
        }
      ],
      "series": [],
      "rules": []
    },
    "Task fMRI - Language": {
      "description": "Task fMRI - Language",
      "tags": ["analysis:fmri", "brain", "fMRI", "task-based", "multiband"],
      "detailed_description": "## Task fMRI - Language\n\nStory comprehension vs. arithmetic task measuring semantic and phonological language processing.\n\n### Imaging Parameters\nSame as resting-state fMRI (from HCP Appendix I):\n| Parameter | Value |\n|-----------|-------|\n| Sequence | cmrr_mbep2d_bold |\n| Voxel Size | 2.0 \u00d7 2.0 \u00d7 2.0 mm |\n| TR | 720 ms |\n| TE | 33.1 ms |\n| Flip Angle | 52\u00b0 |\n| Slices | 72 |\n| Multiband Factor | 8 |\n| Bandwidth | 2290 Hz/Px |\n| Echo Spacing | 0.58 ms |\n| Measurements | 316 frames |\n\n### Task Design\nBlock design paradigm (preferred over event-related for efficiency).\n\n### Source\nHCP S1200 Release Reference Manual - Appendix I, Page 37-38",
      "fields": [
        {
          "field": "Manufacturer",
          "tag": "0008,0070",
          "value": "SIEMENS"
        },
        {
          "field": "MRAcquisitionType",
          "tag": "0018,0023",
          "value": "2D"
        },
        {
          "field": "ScanningSequence",
          "tag": "0018,0020",
          "value": "EP"
        },
        {
          "field": "SequenceVariant",
          "tag": "0018,0021",
          "value": [
            "SK",
            "SS"
          ]
        },
        {
          "field": "MagneticFieldStrength",
          "tag": "0018,0087",
          "value": 3,
          "tolerance": 0.1
        },
        {
          "field": "RepetitionTime",
          "tag": "0018,0080",
          "value": 720,
          "tolerance": 10
        },
        {
          "field": "EchoTime",
          "tag": "0018,0081",
          "value": 33.1,
          "tolerance": 1
        },
        {
          "field": "FlipAngle",
          "tag": "0018,1314",
          "value": 52,
          "tolerance": 2
        },
        {
          "field": "SliceThickness",
          "tag": "0018,0050",
          "value": 2.0,
          "tolerance": 0.1
        },
        {
          "field": "PixelSpacing",
          "tag": "0028,0030",
          "value": [
            2.0,
            2.0
          ],
          "tolerance": 0.1
        },
        {
          "field": "Rows",
          "tag": "0028,0010",
          "value": 104,
          "tolerance": 5
        },
        {
          "field": "Columns",
          "tag": "0028,0011",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PixelBandwidth",
          "tag": "0018,0095",
          "value": 2290,
          "tolerance": 50
        },
        {
          "field": "EchoTrainLength",
          "tag": "0018,0091",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PercentPhaseFieldOfView",
          "tag": "0018,0094",
          "value": 86.5,
          "tolerance": 1
        },
        {
          "field": "NumberOfAverages",
          "tag": "0018,0083",
          "value": 1
        },
        {
          "field": "MultibandFactor",
          "tag": "derived",
          "value": 8
        },
        {
          "field": "NumberOfTemporalPositions",
          "tag": "0020,0105",
          "value": 316
        }
      ],
      "series": [],
      "rules": []
    },
    "Task fMRI - Social Cognition": {
      "description": "Task fMRI - Social Cognition (Theory of Mind)",
      "tags": ["analysis:fmri", "brain", "fMRI", "task-based", "multiband"],
      "detailed_description": "## Task fMRI - Social Cognition (Theory of Mind)\n\nAnimated shapes task measuring theory of mind and social cognition abilities.\n\n### Imaging Parameters\nSame as resting-state fMRI (from HCP Appendix I):\n| Parameter | Value |\n|-----------|-------|\n| Sequence | cmrr_mbep2d_bold |\n| Voxel Size | 2.0 \u00d7 2.0 \u00d7 2.0 mm |\n| TR | 720 ms |\n| TE | 33.1 ms |\n| Flip Angle | 52\u00b0 |\n| Slices | 72 |\n| Multiband Factor | 8 |\n| Bandwidth | 2290 Hz/Px |\n| Echo Spacing | 0.58 ms |\n| Measurements | 274 frames |\n\n### Task Design\nBlock design paradigm (preferred over event-related for efficiency).\n\n### Source\nHCP S1200 Release Reference Manual - Appendix I, Page 37-38",
      "fields": [
        {
          "field": "Manufacturer",
          "tag": "0008,0070",
          "value": "SIEMENS"
        },
        {
          "field": "MRAcquisitionType",
          "tag": "0018,0023",
          "value": "2D"
        },
        {
          "field": "ScanningSequence",
          "tag": "0018,0020",
          "value": "EP"
        },
        {
          "field": "SequenceVariant",
          "tag": "0018,0021",
          "value": [
            "SK",
            "SS"
          ]
        },
        {
          "field": "MagneticFieldStrength",
          "tag": "0018,0087",
          "value": 3,
          "tolerance": 0.1
        },
        {
          "field": "RepetitionTime",
          "tag": "0018,0080",
          "value": 720,
          "tolerance": 10
        },
        {
          "field": "EchoTime",
          "tag": "0018,0081",
          "value": 33.1,
          "tolerance": 1
        },
        {
          "field": "FlipAngle",
          "tag": "0018,1314",
          "value": 52,
          "tolerance": 2
        },
        {
          "field": "SliceThickness",
          "tag": "0018,0050",
          "value": 2.0,
          "tolerance": 0.1
        },
        {
          "field": "PixelSpacing",
          "tag": "0028,0030",
          "value": [
            2.0,
            2.0
          ],
          "tolerance": 0.1
        },
        {
          "field": "Rows",
          "tag": "0028,0010",
          "value": 104,
          "tolerance": 5
        },
        {
          "field": "Columns",
          "tag": "0028,0011",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PixelBandwidth",
          "tag": "0018,0095",
          "value": 2290,
          "tolerance": 50
        },
        {
          "field": "EchoTrainLength",
          "tag": "0018,0091",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PercentPhaseFieldOfView",
          "tag": "0018,0094",
          "value": 86.5,
          "tolerance": 1
        },
        {
          "field": "NumberOfAverages",
          "tag": "0018,0083",
          "value": 1
        },
        {
          "field": "MultibandFactor",
          "tag": "derived",
          "value": 8
        },
        {
          "field": "NumberOfTemporalPositions",
          "tag": "0020,0105",
          "value": 274
        }
      ],
      "series": [],
      "rules": []
    },
    "Task fMRI - Relational Processing": {
      "description": "Task fMRI - Relational Processing",
      "tags": ["analysis:fmri", "brain", "fMRI", "task-based", "multiband"],
      "detailed_description": "## Task fMRI - Relational Processing\n\nRelational matching task comparing relational vs. control matching conditions.\n\n### Imaging Parameters\nSame as resting-state fMRI (from HCP Appendix I):\n| Parameter | Value |\n|-----------|-------|\n| Sequence | cmrr_mbep2d_bold |\n| Voxel Size | 2.0 \u00d7 2.0 \u00d7 2.0 mm |\n| TR | 720 ms |\n| TE | 33.1 ms |\n| Flip Angle | 52\u00b0 |\n| Slices | 72 |\n| Multiband Factor | 8 |\n| Bandwidth | 2290 Hz/Px |\n| Echo Spacing | 0.58 ms |\n| Measurements | 232 frames |\n\n### Task Design\nBlock design paradigm (preferred over event-related for efficiency).\n\n### Source\nHCP S1200 Release Reference Manual - Appendix I, Page 37-38",
      "fields": [
        {
          "field": "Manufacturer",
          "tag": "0008,0070",
          "value": "SIEMENS"
        },
        {
          "field": "MRAcquisitionType",
          "tag": "0018,0023",
          "value": "2D"
        },
        {
          "field": "ScanningSequence",
          "tag": "0018,0020",
          "value": "EP"
        },
        {
          "field": "SequenceVariant",
          "tag": "0018,0021",
          "value": [
            "SK",
            "SS"
          ]
        },
        {
          "field": "MagneticFieldStrength",
          "tag": "0018,0087",
          "value": 3,
          "tolerance": 0.1
        },
        {
          "field": "RepetitionTime",
          "tag": "0018,0080",
          "value": 720,
          "tolerance": 10
        },
        {
          "field": "EchoTime",
          "tag": "0018,0081",
          "value": 33.1,
          "tolerance": 1
        },
        {
          "field": "FlipAngle",
          "tag": "0018,1314",
          "value": 52,
          "tolerance": 2
        },
        {
          "field": "SliceThickness",
          "tag": "0018,0050",
          "value": 2.0,
          "tolerance": 0.1
        },
        {
          "field": "PixelSpacing",
          "tag": "0028,0030",
          "value": [
            2.0,
            2.0
          ],
          "tolerance": 0.1
        },
        {
          "field": "Rows",
          "tag": "0028,0010",
          "value": 104,
          "tolerance": 5
        },
        {
          "field": "Columns",
          "tag": "0028,0011",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PixelBandwidth",
          "tag": "0018,0095",
          "value": 2290,
          "tolerance": 50
        },
        {
          "field": "EchoTrainLength",
          "tag": "0018,0091",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PercentPhaseFieldOfView",
          "tag": "0018,0094",
          "value": 86.5,
          "tolerance": 1
        },
        {
          "field": "NumberOfAverages",
          "tag": "0018,0083",
          "value": 1
        },
        {
          "field": "MultibandFactor",
          "tag": "derived",
          "value": 8
        },
        {
          "field": "NumberOfTemporalPositions",
          "tag": "0020,0105",
          "value": 232
        }
      ],
      "series": [],
      "rules": []
    },
    "Task fMRI - Emotion Processing": {
      "description": "Task fMRI - Emotion Processing",
      "tags": ["analysis:fmri", "brain", "fMRI", "task-based", "multiband"],
      "detailed_description": "## Task fMRI - Emotion Processing\n\nFace matching task (Hariri task) measuring emotion processing and amygdala reactivity. Match faces showing fearful or angry expressions.\n\n### Imaging Parameters\nSame as resting-state fMRI (from HCP Appendix I):\n| Parameter | Value |\n|-----------|-------|\n| Sequence | cmrr_mbep2d_bold |\n| Voxel Size | 2.0 \u00d7 2.0 \u00d7 2.0 mm |\n| TR | 720 ms |\n| TE | 33.1 ms |\n| Flip Angle | 52\u00b0 |\n| Slices | 72 |\n| Multiband Factor | 8 |\n| Bandwidth | 2290 Hz/Px |\n| Echo Spacing | 0.58 ms |\n| Measurements | 176 frames |\n\n### Task Design\nBlock design paradigm (preferred over event-related for efficiency).\n\n### Source\nHCP S1200 Release Reference Manual - Appendix I, Page 37-38",
      "fields": [
        {
          "field": "Manufacturer",
          "tag": "0008,0070",
          "value": "SIEMENS"
        },
        {
          "field": "MRAcquisitionType",
          "tag": "0018,0023",
          "value": "2D"
        },
        {
          "field": "ScanningSequence",
          "tag": "0018,0020",
          "value": "EP"
        },
        {
          "field": "SequenceVariant",
          "tag": "0018,0021",
          "value": [
            "SK",
            "SS"
          ]
        },
        {
          "field": "MagneticFieldStrength",
          "tag": "0018,0087",
          "value": 3,
          "tolerance": 0.1
        },
        {
          "field": "RepetitionTime",
          "tag": "0018,0080",
          "value": 720,
          "tolerance": 10
        },
        {
          "field": "EchoTime",
          "tag": "0018,0081",
          "value": 33.1,
          "tolerance": 1
        },
        {
          "field": "FlipAngle",
          "tag": "0018,1314",
          "value": 52,
          "tolerance": 2
        },
        {
          "field": "SliceThickness",
          "tag": "0018,0050",
          "value": 2.0,
          "tolerance": 0.1
        },
        {
          "field": "PixelSpacing",
          "tag": "0028,0030",
          "value": [
            2.0,
            2.0
          ],
          "tolerance": 0.1
        },
        {
          "field": "Rows",
          "tag": "0028,0010",
          "value": 104,
          "tolerance": 5
        },
        {
          "field": "Columns",
          "tag": "0028,0011",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PixelBandwidth",
          "tag": "0018,0095",
          "value": 2290,
          "tolerance": 50
        },
        {
          "field": "EchoTrainLength",
          "tag": "0018,0091",
          "value": 90,
          "tolerance": 5
        },
        {
          "field": "PercentPhaseFieldOfView",
          "tag": "0018,0094",
          "value": 86.5,
          "tolerance": 1
        },
        {
          "field": "NumberOfAverages",
          "tag": "0018,0083",
          "value": 1
        },
        {
          "field": "MultibandFactor",
          "tag": "derived",
          "value": 8
        },
        {
          "field": "NumberOfTemporalPositions",
          "tag": "0020,0105",
          "value": 176
        }
      ],
      "series": [],
      "rules": []
    },
    "Diffusion MRI (Multi-shell HARDI)": {
      "description": "High angular resolution diffusion imaging (HARDI) with multi-shell acquisition",
      "tags": ["analysis:diffusion", "brain", "dMRI", "diffusion", "multiband", "HARDI"],
      "detailed_description": "## Diffusion MRI (HARDI)\n\nHigh angular resolution diffusion imaging with multi-shell acquisition using spin-echo EPI. Enables advanced diffusion modeling including NODDI, CSD, and high-quality tractography. Six runs are acquired with paired phase encoding directions (RL/LR).\n\n### Documented Parameters (from HCP Appendix I)\n| Parameter | Value |\n|-----------|-------|\n| Sequence | cmrr_mbep2d_diff (epse) |\n| Acquisition Time | 9:41 per run |\n| Voxel Size | 1.25 \u00d7 1.25 \u00d7 1.25 mm |\n| TR | 5520 ms |\n| TE | 89.5 ms |\n| Flip Angle | 78\u00b0 |\n| Slices | 111 |\n| FOV Read | 210 mm |\n| FOV Phase | 85.7% |\n| Base Resolution | 168 |\n| Phase Resolution | 100% |\n| Phase Partial Fourier | 6/8 |\n| Orientation | Transverse (T > C-20.0) |\n| Phase Encoding | R >> L or L >> R (paired) |\n| Multiband Factor | 3 |\n| Bandwidth | 1488 Hz/Px |\n| Echo Spacing | 0.78 ms |\n| EPI Factor | 144 |\n| Diffusion Scheme | Monopolar |\n| Refocus Flip Angle | 160\u00b0 |\n\n### Diffusion Encoding\n| b-value (s/mm\u00b2) | Directions per run |\n|-----------------|-------------------|\n| 0 | 6 (interspersed) |\n| 1000 | ~30 |\n| 2000 | ~30 |\n| 3000 | ~30 |\n| **Total** | ~95-97 per run |\n\nThree different gradient tables are used (dir95, dir96, dir97), each acquired with both RL and LR phase encoding for a total of 6 runs.\n\n### Source\nHCP S1200 Release Reference Manual - Appendix I, Page 46-50",
      "fields": [
        {
          "field": "Manufacturer",
          "tag": "0008,0070",
          "value": "SIEMENS"
        },
        {
          "field": "MRAcquisitionType",
          "tag": "0018,0023",
          "value": "2D"
        },
        {
          "field": "ScanningSequence",
          "tag": "0018,0020",
          "value": [
            "SE",
            "EP"
          ]
        },
        {
          "field": "SequenceVariant",
          "tag": "0018,0021",
          "value": [
            "SK",
            "SP"
          ]
        },
        {
          "field": "MagneticFieldStrength",
          "tag": "0018,0087",
          "value": 3,
          "tolerance": 0.1
        },
        {
          "field": "RepetitionTime",
          "tag": "0018,0080",
          "value": 5520,
          "tolerance": 50
        },
        {
          "field": "EchoTime",
          "tag": "0018,0081",
          "value": 89.5,
          "tolerance": 2
        },
        {
          "field": "FlipAngle",
          "tag": "0018,1314",
          "value": 78,
          "tolerance": 3
        },
        {
          "field": "SliceThickness",
          "tag": "0018,0050",
          "value": 1.25,
          "tolerance": 0.05
        },
        {
          "field": "PixelSpacing",
          "tag": "0028,0030",
          "value": [
            1.25,
            1.25
          ],
          "tolerance": 0.05
        },
        {
          "field": "Rows",
          "tag": "0028,0010",
          "value": 168,
          "tolerance": 5
        },
        {
          "field": "Columns",
          "tag": "0028,0011",
          "value": 144,
          "tolerance": 5
        },
        {
          "field": "PixelBandwidth",
          "tag": "0018,0095",
          "value": 1488,
          "tolerance": 50
        },
        {
          "field": "EchoTrainLength",
          "tag": "0018,0091",
          "value": 144,
          "tolerance": 5
        },
        {
          "field": "PercentPhaseFieldOfView",
          "tag": "0018,0094",
          "value": 85.7,
          "tolerance": 1
        },
        {
          "field": "NumberOfAverages",
          "tag": "0018,0083",
          "value": 1
        },
        {
          "field": "MultibandFactor",
          "tag": "derived",
          "value": 3
        },
        {
          "field": "PartialFourier",
          "tag": "0018,9081",
          "value": "YES"
        }
      ],
      "series": [],
      "rules": [
        {
          "id": "hcp_bvalue_distribution",
          "name": "B-value Distribution Validation",
          "description": "Validate multi-shell b-value distribution. HCP spec: 3 shells (b=1000, 2000, 3000) with ~30 directions each, plus ~6 b=0 images per run. Six runs total (dir95/96/97 × RL/LR).",
          "implementation": "# value is a DataFrame with unique DiffusionBValue and Count columns\nb_values = value[\"DiffusionBValue\"]\ncounts = value[\"Count\"]\n\n# Sum counts for each b-value shell (actual image counts)\nb0_count = counts[b_values < 50].sum()\nb1000_count = counts[(b_values >= 900) & (b_values <= 1100)].sum()\nb2000_count = counts[(b_values >= 1900) & (b_values <= 2100)].sum()\nb3000_count = counts[(b_values >= 2900) & (b_values <= 3100)].sum()\n\n# Minimum counts per run: 5 b0, 25 each of b1000/2000/3000\nif b0_count < 5:\n  raise ValueError(f\"Expected at least 5 b≈0 images, found {b0_count}\")\n\nif b1000_count < 25:\n  raise ValueError(f\"Expected at least 25 b≈1000 images, found {b1000_count}\")\n\nif b2000_count < 25:\n  raise ValueError(f\"Expected at least 25 b≈2000 images, found {b2000_count}\")\n\nif b3000_count < 25:\n  raise ValueError(f\"Expected at least 25 b≈3000 images, found {b3000_count}\")",
          "parameters": {},
          "fields": [
            "DiffusionBValue"
          ],
          "enabledSystemFields": ["Count"],
          "testCases": [
            {
              "id": "test_hcp_bvalue_pass",
              "name": "Valid HCP multi-shell distribution",
              "data": {
                "DiffusionBValue": [5, 1000, 2000, 3000],
                "Count": [6, 30, 30, 30]
              },
              "expectedResult": "pass",
              "description": "Matches HCP spec: ~6 b≈0, ~30 each of b=1000/2000/3000 per run"
            },
            {
              "id": "test_hcp_bvalue_pass_full",
              "name": "Full HCP acquisition (6 runs)",
              "data": {
                "DiffusionBValue": [5, 1000, 2000, 3000],
                "Count": [36, 180, 180, 180]
              },
              "expectedResult": "pass",
              "description": "Full HCP acquisition with all 6 runs combined"
            },
            {
              "id": "test_hcp_bvalue_fail_missing_b3000",
              "name": "Missing b=3000 shell",
              "data": {
                "DiffusionBValue": [5, 1000, 2000],
                "Count": [6, 30, 30]
              },
              "expectedResult": "fail",
              "description": "Only two shells - missing required b=3000"
            },
            {
              "id": "test_hcp_bvalue_fail_insufficient",
              "name": "Insufficient directions per shell",
              "data": {
                "DiffusionBValue": [5, 1000, 2000, 3000],
                "Count": [6, 30, 30, 10]
              },
              "expectedResult": "fail",
              "description": "Only 10 b=3000 images, minimum is 25"
            }
          ]
        }
      ]
    }
  },
  "rules": []
}